<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Login Form with Role Switch</title>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">

        <link rel="stylesheet" href="css/style.css">
    </head>
    <body>

        <div class="container" id="container">
            <div class="form-container sign-up-container">
                <form action="login" method="post">
                    <h1>ADMIN</h1>
                    <input required name="username" type="text" placeholder="Username" />
                    <input required name="password" type="password" placeholder="Password" />
                    <input type="hidden" name="formName" value="form2">
                    <button>Sign In</button>
                    <p id="error-message-form2" style="color:red; display:none;"></p>
                </form>
            </div>
            <div class="form-container sign-in-container">
                <form action="login" method="post">
                    <h1>STAFF</h1>
                    <input required name="username" type="text" placeholder="Username" />
                    <input required name="password" type="password" placeholder="Password" />
                    <input type="hidden" name="formName" value="form1">
                    <button>Sign In</button>
                    <p id="error-message-form1" style="color:red; display:none;"></p>
                </form>
            </div>
            <div class="overlay-container">
                <div class="overlay">
                    <div class="overlay-panel overlay-left">
                        <h1>STAFF</h1> <br> 
                        <button class="ghost" id="signIn">Sign In</button>
                    </div>
                    <div class="overlay-panel overlay-right">
                        <h1>ADMIN</h1> <br>
                        <button class="ghost" id="signUp">Sign In</button>
                    </div>
                </div>
            </div>
        </div>

        <footer>
            <p>
                PRJ301 - Nhom 4© - SE18101<br>
                2024 <br>
            </p>
        </footer>
        <script>
            window.onload = function () {
                const params = new URLSearchParams(window.location.search);
                const error = params.get('error');// Lấy giá trị của form từ URL
                const form = params.get('form');

                if (error) {
                    if (form === 'form1') {
                        // Nếu lỗi thuộc về form1, hiển thị thông báo lỗi ở form1
                        container.classList.remove("right-panel-active");
                        document.getElementById('error-message-form1').textContent = decodeURIComponent(error);
                        document.getElementById('error-message-form1').style.display = 'block';
                    } else if (form === 'form2') {
                        // Nếu lỗi thuộc về form2, hiển thị thông báo lỗi ở form2
                        container.classList.add("right-panel-active");
                        document.getElementById('error-message-form2').textContent = decodeURIComponent(error);
                        document.getElementById('error-message-form2').style.display = 'block';
                    }
                }
            };
        </script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
        <script src="js/script.js"></script>
    </body>
</html>
